---
title: "å›å½’åˆ†æ"
author: "Qiufei"
date: "1/21/2017"
output: 
  html_document: 
    keep_md: yes
    number_sections: yes
    theme: cerulean
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


æœ¬æ¬¡åˆ†æä»»åŠ¡æ˜¯å¯¹CPIå’Œå¤®è¡Œèµ„äº§è´Ÿå€ºè¡¨å¢é€Ÿä¹‹é—´çš„å…³ç³»åšå›å½’åˆ†æã€‚

## é¦–å…ˆæ˜¯ä¸‹è½½æ•°æ®

```{r}
library(Quandl)
# å¤®è¡Œèµ„äº§è´Ÿå€ºè¡¨å¢é€Ÿçš„quandl codeä»£ç æ˜¯PBCHINA/REP_04.11
# ä¸­å›½cpiå¢é€Ÿæ•°æ®çš„quandl codeä»£ç æ˜¯NBSC/A01030101_M
codes = c('PBCHINA/REP_04.11','NBSC/A01030101_M')

reg_data = Quandl(codes)

```

## å…¶æ¬¡ä¿®æ”¹ä¸‹æ•°æ®é›†çš„åå­—

æˆ‘ä»¬ä¸‹è½½çš„æ•°æ®å·²ç»ä¿å­˜åœ¨æ•°æ®é›†`reg_data`ä¸­ï¼Œè¯¥æ•°æ®é›†æœ‰ä¸‰åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯æ—¶é—´æ•°æ®ï¼Œç¬¬äºŒåˆ—æ˜¯å¤®è¡Œèµ„äº§è´Ÿå€ºè¡¨è§„æ¨¡æ•°æ®ï¼Œç¬¬ä¸‰åˆ—æ˜¯cpiæ•°æ®ã€‚

ç¬¬ä¸€åˆ—çš„åˆ—åDateï¼Œæ¯”è¾ƒå¥½è®¤ï¼Œä½†æ˜¯ç¬¬äºŒåˆ—å’Œç¬¬ä¸‰åˆ—çš„åˆ—åå¤ªé•¿ï¼Œä¹Ÿä¸å¥½è®¤ã€‚æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹åˆ—åã€‚

å°†ç¬¬ä¸€åˆ—çš„åˆ—åä¿®æ”¹ä¸ºdateï¼Œå°†ç¬¬äºŒåˆ—çš„åˆ—åä¿®æ”¹ä¸ºpbc_assetï¼Œå°†ç¬¬ä¸‰åˆ—çš„åˆ—åä¿®æ”¹ä¸ºcpiã€‚

```{r}

colnames(reg_data) = c('date','pbc_asset','cpi')

```


## è®¡ç®—å¤®è¡Œèµ„äº§è´Ÿå€ºè¡¨è§„æ¨¡çš„å¢é€Ÿ

å› ä¸º15å¹´æœ‰äº›æ•°æ®æ²¡æœ‰ï¼Œæ‰€ä»¥å»æ‰2015å¹´ä»¥å‰çš„æ•°æ®ã€‚

í ¼åˆæˆ‘ä»¬è¦è®¡ç®—èµ„äº§è´Ÿå€ºè¡¨çš„å¢é€Ÿç™¾åˆ†æ¯”ï¼Œå’ŒCPIçš„å¢é€Ÿç™¾åˆ†æ¯”ï¼Œæ‰€ä»¥è¦åšäº›è½¬æ¢ã€‚

```{r}
# ä¸ºäº†ä½¿ç”¨filterå‡½æ•°
library(dplyr)

# ä¸ºäº†ä½¿ç”¨ROCå‡½æ•°
library(TTR)

## drop those NA observations
reg_data = filter(reg_data,date>'2005-12-31')
## get growth rate
reg_data[,2] = ROC(reg_data[,2],type = 'discrete')*100
reg_data[,3] = reg_data[,3] - 100

```


## ç„¶åæ˜¯å¯¹æ•°æ®è¿›è¡Œå›å½’åˆ†æ

åœ¨å›å½’åˆ†æä¸­ï¼Œå°†cpiä½œä¸ºå› å˜é‡ï¼ˆYï¼‰ï¼Œå°†pbc_assetä½œä¸ºè‡ªå˜é‡ï¼ˆXï¼‰ã€‚

```{r}

my_model = lm(cpi~pbc_asset,reg_data)

summary(my_model)

```

